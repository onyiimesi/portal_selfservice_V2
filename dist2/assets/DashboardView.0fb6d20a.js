import{_ as b,a as v,o as l,c as n,b as s,d as o,w as a,e as p,f as h,n as u,F as y,r as f,t as r,g as _,h as g,H as w,i as x}from"./index.140dd68c.js";import{h as C}from"./html2pdf.bd37e38e.js";const k={name:"invoices",data(){return{errors:[],message:[],customerCode:"",allinvoice:[],loaderDiv:"",mainDiv:"d-none"}},created(){const t=localStorage.getItem("customercode");this.customerCode=t,this.customerCode||this.$router.push("/")},async mounted(){this.customerCode=localStorage.getItem("customercode");const t=await v.get("api/Invoice/customerinvoices/"+this.$route.params.customerCode,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.allinvoice=t.data.result,this.loaderDiv="d-none",this.mainDiv=""},computed:{total:function(){let t=[];return Object.entries(this.items).forEach(([d,e])=>{t.push(e.amount)}),t.reduce(function(d,e){return d+e},0)},tax:function(){let t=[];return Object.entries(this.items).forEach(([d,e])=>{t.push(e.tax)}),t.reduce(function(d,e){return d+e},0)}},methods:{exportToPDF(){C(document.getElementById("element-to-convert"),{margin:1,filename:"revassuredev-invoice.pdf",html2canvas:{windowWidth:100,windowHeight:100},pagebreak:{mode:"avoid-all",before:".page2el"}})},async makePayment(){this.message=[];const t=await v.post("https://assessmentapi.revassuredev.com/api/Payment/initialize/",{invoiceCode:this.invoice.invoiceCode,callBackUrl:"https://revassuredev.com/payment-verify/"+this.invoice.invoiceCode},{headers:{clientid:"abc123",Authorization:"0*EI&LBEey28Y#p1e3qmVD"}});t&&(this.message.push(t.data.message),window.location.href=t.data.result.authorization_url)},handleClick(){localStorage.removeItem("customercode"),this.$router.push("/")}}},D={class:"content-wrapper"},N={class:"wrapper image-wrapper bg-image bg-overlay bg-overlay-400 text-white","data-image-src":"/assets/img/photos/bg3.jpg"},V={class:"container pt-15 pb-10 pt-md-17 pb-md-10 text-center"},$={class:"row"},I={class:"col-md-10 col-lg-8 col-xl-7 col-xxl-6 mx-auto"},B=s("h1",{class:"display-1 mb-3 text-white"},"Dashboard",-1),S={class:"d-inline-block","aria-label":"breadcrumb"},O={class:"breadcrumb text-white"},z={key:0,class:"breadcrumb-item"},A={key:1,class:"breadcrumb-item"},F=s("li",{class:"breadcrumb-item active","aria-current":"page"},"Dashboard",-1),E={class:"container"},P=_('<div class="row pt-5"><div class="col-md-6 mb-4"><div class="card"><div class="row"><div class="col-md-12"><div class="tt"><h3 class="pt-2 ps-2">\u20A6 Naira</h3></div></div></div><div class="row pt-2 ps-5 pe-2 pb-2"><div class="col-md-4 mb-1 pe-3 pt-0 ps-0 pb-0"><div class="card border border-primary"><div class="card-body pe-4 ps-4"><span>\u20A6 0,000,000.00</span><h2 class="fs-15 text-uppercase text-navy">Invoices</h2></div></div></div><div class="col-md-4 mb-1 pe-3 pt-0 ps-0 pb-0"><div class="card border border-primary"><div class="card-body pe-4 ps-4"> \u20A6 0,000,000.00 <h2 class="fs-15 text-uppercase text-navy">Payments</h2></div></div></div><div class="col-md-4 mb-1 pe-3 pt-0 ps-0 pb-0"><div class="card border border-primary"><div class="card-body pe-4 ps-4"> \u20A6 0,000,000.00 <h2 class="fs-15 text-uppercase text-navy">Outstanding</h2></div></div></div></div></div></div><div class="col-md-6"><div class="card"><div class="row"><div class="col-md-12"><div class="tt"><h3 class="pt-2 ps-2">$ Dollar</h3></div></div></div><div class="row pt-2 ps-5 pe-2 pb-2"><div class="col-md-4 mb-1 pe-3 pt-0 ps-0 pb-0"><div class="card border border-primary"><div class="card-body pe-4 ps-4"> $ 0,000,000.00 <h2 class="fs-15 text-uppercase text-navy">Invoices</h2></div></div></div><div class="col-md-4 mb-1 pe-3 pt-0 ps-0 pb-0"><div class="card border border-primary"><div class="card-body pe-4 ps-4"> $ 0,000,000.00 <h2 class="fs-15 text-uppercase text-navy">Payments</h2></div></div></div><div class="col-md-4 mb-1 pe-3 pt-0 ps-0 pb-0"><div class="card border border-primary"><div class="card-body pe-4 ps-4"> $ 0,000,000.00 <h2 class="fs-15 text-uppercase text-navy">Outstanding</h2></div></div></div></div></div></div></div>',1),H={class:"row pt-10"},L={class:"col-md-12"},R={class:"card border border-info"},j={class:"card-body table-responsive"},G=s("h3",{class:"pb-4"},"Recent Payments",-1),M={class:"table table-bordered table-striped table-hover"},T=s("thead",{class:"thead-dark"},[s("tr",null,[s("th",{scope:"col"},"Organization"),s("th",{scope:"col"},"Receipt No"),s("th",{scope:"col"},"Bill No"),s("th",{scope:"col"},"Currency"),s("th",{scope:"col"},"Amount"),s("th",{scope:"col"},"Outstanding"),s("th",{scope:"col"},"Action")])],-1),q=s("td",null,"Ministry of Finance",-1),U=s("td",null,"2345512",-1),W=s("td",null,"#33452",-1),Y=s("td",null,"NGN",-1),J=s("td",null,"20,000",-1),K=s("td",null,"0.00",-1),Q=s("button",{class:"btn btn-success btn-sm"},"View",-1),X=s("td",null,"Ministry of Finance",-1),Z=s("td",null,"2345512",-1),ss=s("td",null,"#33452",-1),ts=s("td",null,"NGN",-1),es=s("td",null,"20,000",-1),os=s("td",null,"0.00",-1),ds=s("button",{class:"btn btn-success btn-sm"},"View",-1),cs=s("td",null,"Ministry of Finance",-1),is=s("td",null,"2345512",-1),as=s("td",null,"#33452",-1),ls=s("td",null,"NGN",-1),ns=s("td",null,"20,000",-1),rs=s("td",null,"0.00",-1),vs=s("button",{class:"btn btn-success btn-sm"},"View",-1),ps={class:"row pt-15 pb-20"},hs={class:"col-md-12"},us={class:"card border border-info"},_s={class:"card-body table-responsive"},ms=s("h3",{class:"pb-4"},"Recent Bills",-1),bs=_('<div class="ph-item"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div></div><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div></div></div></div>',1),ys=[bs],fs={class:"table table-bordered table-striped table-hover"},gs=s("thead",{class:"thead-dark"},[s("tr",null,[s("th",{scope:"col"},"Organization"),s("th",{scope:"col"},"#Invoice"),s("th",{scope:"col"},"Currency"),s("th",{scope:"col"},"Amount"),s("th",{scope:"col"},"Outstanding"),s("th",{scope:"col"},"Status"),s("th",{scope:"col"},"Action")])],-1),ws=s("td",null,null,-1),xs=s("button",{class:"btn btn-success btn-sm"},"View",-1),Cs=s("div",{class:"row pt-5"},null,-1);function ks(t,d,e,Ns,m,Vs){const i=g("RouterLink");return l(),n("div",D,[s("section",N,[s("div",V,[s("div",$,[s("div",I,[B,s("nav",S,[s("ol",O,[this.customerCode?(l(),n("li",z,[o(i,{to:"/dashboard/"+this.customerCode},{default:a(()=>[p("Home")]),_:1},8,["to"])])):h("",!0),this.customerCode?h("",!0):(l(),n("li",A,[o(i,{to:"/"},{default:a(()=>[p("Home")]),_:1})])),F])])])])])]),s("div",E,[P,s("div",H,[s("div",L,[s("div",R,[s("div",j,[G,s("table",M,[T,s("tbody",null,[s("tr",null,[q,U,W,Y,J,K,s("td",null,[o(i,{to:"/"},{default:a(()=>[Q]),_:1})])]),s("tr",null,[X,Z,ss,ts,es,os,s("td",null,[o(i,{to:"/"},{default:a(()=>[ds]),_:1})])]),s("tr",null,[cs,is,as,ls,ns,rs,s("td",null,[o(i,{to:"/"},{default:a(()=>[vs]),_:1})])])])])])])])]),s("div",ps,[s("div",hs,[s("div",us,[s("div",_s,[ms,s("div",{class:u(this.loaderDiv)},ys,2),s("div",{class:u(this.mainDiv)},[s("table",fs,[gs,s("tbody",null,[(l(!0),n(y,null,f(m.allinvoice,c=>(l(),n("tr",{key:c.id},[s("td",null,r(c.organisationCode),1),s("td",null,r(c.invoiceCode),1),s("td",null,r(c.currencyCode),1),s("td",null,r(Number(c.invoiceAmount).toLocaleString()),1),ws,s("td",null,r(c.paymentStatus),1),s("td",null,[o(i,{to:"/view-bill/"+c.invoiceCode},{default:a(()=>[xs]),_:2},1032,["to"])])]))),128))])])],2)])])])]),Cs])])}const Ds=b(k,[["render",ks]]),Bs={__name:"DashboardView",setup(t){return(d,e)=>(l(),n("main",null,[o(w),o(Ds),o(x)]))}};export{Bs as default};
